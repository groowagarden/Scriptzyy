-- Roblox Dupe Pet UI with horizontal pet choices above "START DUPE"

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

local CYAN = Color3.fromRGB(0,255,220)
local DARK = Color3.fromRGB(13,45,85)
local BG = Color3.fromRGB(12,18,30)
local BTN_GRAD_TOP = Color3.fromRGB(0,255,150)
local BTN_GRAD_BOTTOM = Color3.fromRGB(0,100,60)

-- Utility for gradients
local function addGradient(guiObj, colorSeq, rotate)
    local grad = Instance.new("UIGradient")
    grad.Color = colorSeq
    grad.Rotation = rotate or 0
    grad.Parent = guiObj
    return grad
end

local function glassify(guiObj, transparency)
    local glass = Instance.new("ImageLabel")
    glass.Size = UDim2.new(1, 0, 1, 0)
    glass.BackgroundTransparency = 1
    glass.Image = "rbxassetid://5553946656"
    glass.ImageTransparency = transparency or 0.93
    glass.ZIndex = (guiObj.ZIndex or 1) + 1
    glass.Parent = guiObj
end

local function neonPulse(button)
    local origColor = button.BackgroundColor3
    local neonColor = CYAN
    local tweenInfo = TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    button.MouseEnter:Connect(function()
        TweenService:Create(button, tweenInfo, {BackgroundColor3 = neonColor}):Play()
    end)
    button.MouseLeave:Connect(function()
        TweenService:Create(button, tweenInfo, {BackgroundColor3 = origColor}):Play()
    end)
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "DupePetUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player.PlayerGui

-- FULLSCREEN LOADING SCREEN
local blackScreen = Instance.new("Frame")
blackScreen.Size = UDim2.new(1,0,1,0)
blackScreen.BackgroundColor3 = Color3.fromRGB(0,0,0)
blackScreen.ZIndex = 100
blackScreen.Visible = false
blackScreen.Parent = screenGui

local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(0.7,0,0.14,0)
loadingText.Position = UDim2.new(0.15,0,0.53,0)
loadingText.BackgroundTransparency = 1
loadingText.TextColor3 = CYAN
loadingText.Font = Enum.Font.GothamBlack
loadingText.TextScaled = true
loadingText.Text = "DUPING STARTED PLEASE...\nLOADING 0%"
loadingText.ZIndex = 101
loadingText.Parent = blackScreen

local spinner = Instance.new("ImageLabel")
spinner.Size = UDim2.new(0,70,0,70)
spinner.Position = UDim2.new(0.5,-35,0.37,-35)
spinner.BackgroundTransparency = 1
spinner.Image = "rbxassetid://7733960981"
spinner.ImageColor3 = CYAN
spinner.ZIndex = 101
spinner.Parent = blackScreen

local spinning = false
local function startSpinner()
    spinning = true
    spawn(function()
        local rot = 0
        while spinning and spinner.Visible do
            rot = (rot + 6) % 360
            spinner.Rotation = rot
            task.wait(0.016)
        end
        spinner.Rotation = 0
    end)
end
local function stopSpinner() spinning = false end

-- Main frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 600, 0, 400)
mainFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
mainFrame.BackgroundTransparency = 0.09
mainFrame.BackgroundColor3 = BG
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui
mainFrame.ZIndex = 10
addGradient(mainFrame, ColorSequence.new{
    ColorSequenceKeypoint.new(0, DARK),
    ColorSequenceKeypoint.new(1, CYAN)
}, 90)
glassify(mainFrame, 0.94)
local border = Instance.new("UIStroke")
border.Thickness = 3
border.Color = CYAN
border.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
border.Parent = mainFrame

-- Title
local title = Instance.new("TextLabel")
title.Text = "DUPE PET V1"
title.Size = UDim2.new(0.98, 0, 0.12, 0)
title.Position = UDim2.new(0.01, 0, 0.01, 0)
title.BackgroundTransparency = 1
title.TextColor3 = CYAN
title.Font = Enum.Font.GothamBlack
title.TextStrokeTransparency = 0.8
title.TextScaled = true
title.ZIndex = 11
title.Parent = mainFrame

-- Central UI panel
local dupeFrame = Instance.new("Frame")
dupeFrame.Size = UDim2.new(0.8, 0, 0.74, 0)
dupeFrame.Position = UDim2.new(0.1, 0, 0.19, 0)
dupeFrame.BackgroundTransparency = 0.13
dupeFrame.BackgroundColor3 = Color3.fromRGB(10, 40, 70)
dupeFrame.BorderSizePixel = 0
dupeFrame.ZIndex = 12
dupeFrame.Parent = mainFrame
addGradient(dupeFrame, ColorSequence.new{
    ColorSequenceKeypoint.new(0, CYAN),
    ColorSequenceKeypoint.new(1, DARK)
}, 0)
glassify(dupeFrame, 0.93)

-- PET CHOICE ROW (Horizontal)
local choiceLabel = Instance.new("TextLabel")
choiceLabel.Text = "CHOOSE PET TO DUPE:"
choiceLabel.Size = UDim2.new(1, 0, 0.14, 0)
choiceLabel.Position = UDim2.new(0, 0, 0, 0)
choiceLabel.BackgroundTransparency = 1
choiceLabel.TextColor3 = CYAN
choiceLabel.Font = Enum.Font.GothamBold
choiceLabel.TextScaled = true
choiceLabel.ZIndex = 13
choiceLabel.Parent = dupeFrame

local pets = {"RACCOON", "DRAGONFLY", "DISCO BEE", "QUEEN BEE", "MIMIC", "RED FOX", "BUTTERFLY"}
local selectedPet = pets[1]
local lastSelectedBtn = nil
local petBtnRefs = {}

local petChoiceFrame = Instance.new("Frame")
petChoiceFrame.Size = UDim2.new(1, 0, 0.17, 0)
petChoiceFrame.Position = UDim2.new(0, 0, 0.14, 0)
petChoiceFrame.BackgroundTransparency = 1
petChoiceFrame.ZIndex = 13
petChoiceFrame.Parent = dupeFrame

local petChoiceLayout = Instance.new("UIListLayout")
petChoiceLayout.FillDirection = Enum.FillDirection.Horizontal
petChoiceLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
petChoiceLayout.VerticalAlignment = Enum.VerticalAlignment.Center
petChoiceLayout.Padding = UDim.new(0, 8)
petChoiceLayout.Parent = petChoiceFrame

for i, petName in ipairs(pets) do
    local petBtn = Instance.new("TextButton")
    petBtn.Text = petName
    petBtn.Size = UDim2.new(0, math.floor(500/#pets)-8, 0, 32)
    petBtn.BackgroundTransparency = 0.18
    petBtn.BackgroundColor3 = Color3.fromRGB(24, 50, 80)
    petBtn.TextColor3 = CYAN
    petBtn.Font = Enum.Font.GothamBlack
    petBtn.TextScaled = true
    petBtn.TextWrapped = true
    petBtn.ZIndex = 13
    petBtn.Parent = petChoiceFrame
    petBtn.AutoButtonColor = false
    local petStroke = Instance.new("UIStroke")
    petStroke.Thickness = 2
    petStroke.Color = CYAN
    petStroke.Transparency = 1
    petStroke.Parent = petBtn

    petBtnRefs[petName] = {btn=petBtn, stroke=petStroke}
    neonPulse(petBtn)

    if i == 1 then
        petBtn.BackgroundColor3 = CYAN
        petBtn.TextColor3 = BG
        petStroke.Transparency = 0
        lastSelectedBtn = petName
    end

    petBtn.MouseButton1Click:Connect(function()
        if lastSelectedBtn then
            local ref = petBtnRefs[lastSelectedBtn]
            TweenService:Create(ref.btn, TweenInfo.new(0.18), {
                BackgroundColor3 = Color3.fromRGB(24, 50, 80),
                TextColor3 = CYAN,
            }):Play()
            TweenService:Create(ref.stroke, TweenInfo.new(0.18), {Transparency = 1}):Play()
        end
        TweenService:Create(petBtn, TweenInfo.new(0.18), {
            BackgroundColor3 = CYAN,
            TextColor3 = BG,
        }):Play()
        TweenService:Create(petStroke, TweenInfo.new(0.18), {Transparency = 0}):Play()
        selectedPet = petName
        lastSelectedBtn = petName
        petDupeLabel.Text = "PET DUPE: " .. selectedPet
        TweenService:Create(petDupeLabel, TweenInfo.new(0.12), {TextColor3 = Color3.fromRGB(0,255,255)}):Play()
        task.wait(0.12)
        TweenService:Create(petDupeLabel, TweenInfo.new(0.22), {TextColor3 = CYAN}):Play()
    end)
end

local petDupeLabel = Instance.new("TextLabel")
petDupeLabel.Text = "PET DUPE: " .. selectedPet
petDupeLabel.Size = UDim2.new(1, 0, 0.13, 0)
petDupeLabel.Position = UDim2.new(0, 0, 0.31, 0)
petDupeLabel.BackgroundTransparency = 1
petDupeLabel.TextColor3 = CYAN
petDupeLabel.Font = Enum.Font.GothamBlack
petDupeLabel.TextScaled = true
petDupeLabel.ZIndex = 13
petDupeLabel.Parent = dupeFrame

-- Neon glassy button style
local function makeNeonBtn(text, posY)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.85, 0, 0.18, 0)
    btn.Position = UDim2.new(0.075, 0, posY, 0)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(0,255,150)
    btn.BackgroundTransparency = 0.08
    btn.TextColor3 = Color3.fromRGB(10,30,35)
    btn.Font = Enum.Font.GothamBlack
    btn.TextScaled = true
    btn.ZIndex = 13
    btn.Parent = dupeFrame
    btn.AutoButtonColor = false
    addGradient(btn, ColorSequence.new{
        ColorSequenceKeypoint.new(0, BTN_GRAD_TOP),
        ColorSequenceKeypoint.new(1, BTN_GRAD_BOTTOM)
    }, 90)
    glassify(btn, 0.90)
    neonPulse(btn)
    local glow = Instance.new("UIStroke")
    glow.Color = CYAN
    glow.Thickness = 2
    glow.Transparency = 0.35
    glow.Parent = btn
    return btn
end

local startDupeBtn = makeNeonBtn("START DUPE", 0.45)
local petInventoryLabel = Instance.new("TextLabel")
petInventoryLabel.Text = "PET INVENTORY: DETECTED"
petInventoryLabel.Size = UDim2.new(1, 0, 0.11, 0)
petInventoryLabel.Position = UDim2.new(0, 0, 0.64, 0)
petInventoryLabel.BackgroundTransparency = 1
petInventoryLabel.TextColor3 = Color3.fromRGB(0,255,180)
petInventoryLabel.Font = Enum.Font.GothamBold
petInventoryLabel.TextScaled = true
petInventoryLabel.ZIndex = 13
petInventoryLabel.Parent = dupeFrame

local startScanBtn = makeNeonBtn("START SCAN", 0.77)

-- Real animated loading screen function (using a loop, not TweenService)
local function showLoading(textPrefix, doneText, after)
    blackScreen.Visible = true
    loadingText.Visible = true
    spinner.Visible = true
    startSpinner()
    for i = 0, 100 do
        loadingText.Text = string.format("%s\nLOADING %d%%", textPrefix, i)
        task.wait(0.012)
    end
    loadingText.Text = doneText
    task.wait(1)
    blackScreen.Visible = false
    loadingText.Visible = false
    spinner.Visible = false
    stopSpinner()
    if after then after() end
end

startDupeBtn.MouseButton1Click:Connect(function()
    showLoading("DUPING STARTED PLEASE...", "SUCCESSFULLY DUPED!", function()
        -- Return to UI
    end)
end)

startScanBtn.MouseButton1Click:Connect(function()
    showLoading("SCANNING...", "NO PET DETECTED", function()
        -- Return to UI
    end)
end)
